<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css?v=105">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="audio-switcher.js"></script>
  <title>ПРИМЕРЫ РАБОТ</title>
</head>

<body>
  <div class="container">
    <h1>МАЙМИ / РЕЗУЛЬТАТ</h1>

    <div class="disclaimer">
      все отзывы реальны. ссылки ведут в профили — вы можете лично подтвердить качество написав клиенту.
    </div>

    <div class="terms-block">
      <div class="term-title">ЖАНР: BOOM BAP / HIP-HOP</div>
      <div class="setup-info">запись: бюджетный usb-микрофон, дома </div>

      <audio id="before-1" src="audio/chroniki-before.mp3" preload="auto" playsinline></audio>
      <audio id="after-1" src="audio/chroniki-after.mp3" preload="auto" playsinline muted></audio>

      <div class="ab-controls">
        <button onclick="togglePlay(1)" id="play-btn-1" class="btn-main-play">PLAY</button>
        <div class="switch-group">
          <button onclick="switchAudio(1, 'before')" id="btn-before-1" class="btn-ab active">ДО</button>
          <button onclick="switchAudio(1, 'after')" id="btn-after-1" class="btn-ab">ПОСЛЕ</button>
        </div>
      </div>

      <div class="review-quote">
        <a href="https://t.me/DimitryKucherov" target="_blank" class="user-link">@DimitryKucherov</a>:
        звук огонь! вытягивает слабые места начинающего артиста, после финального результата в шоке от того, как круто
        может звучать самописный трек
      </div>
    </div>

    <a href="index.html" class="back-link" onclick="stopAllPlayback()">← НАЗАД В МЕНЮ</a>
  </div>

  <script>
    window.Telegram.WebApp.expand();

    // фикс для некоторых версий iOS: разблокировка аудио по первому тапу в любом месте
    document.body.addEventListener('touchstart', function () {
      const audios = document.querySelectorAll('audio');
      audios.forEach(audio => {
        if (audio.paused && audio.currentTime === 0) {
          audio.play().then(() => {
            audio.pause(); // моментально ставим на паузу, просто чтобы снять блок
          }).catch(() => { });
        }
      });
    }, { once: true });
  </script>
</body>

</html>